export class GaokaoCountdown extends plugin {
  constructor() {
    super({
      name: '高考倒计时',
      dsc: '提供高考倒计时信息',
      event: 'message',
      priority: 50,
      rule: [{
        reg: '^#?(高考倒计时|高考时间)$',
        fnc: 'gaokaoCountdown'
      }]
    })
  }

  async gaokaoCountdown(e) {
    const examDate = new Date(new Date().getFullYear(), 5, 7, 9, 0, 0) // 6月7日 9:00
    const now = new Date()
    if (now > examDate) {
      examDate.setFullYear(examDate.getFullYear() + 1) // 若已过考试时间，计算明年高考
    }
    
    const diffTime = examDate - now
    const days = Math.floor(diffTime / (1000 * 60 * 60 * 24))
    const hours = Math.floor((diffTime / (1000 * 60 * 60)) % 24)
    const minutes = Math.floor((diffTime / (1000 * 60)) % 60)
    const seconds = Math.floor((diffTime / 1000) % 60)
    
    const quotes = [
    "十年寒窗无人问，一举成名天下知！",
    "请相信，所有的努力都会有回报。",
    "决战高考，改变命运！",
    "拼尽全力，无悔青春！",
    "你的未来，由你自己书写。",
    "成功的花，都是浸透了奋斗的泪泉，洒满了牺牲的血雨。",
    "没有人会嘲笑你的梦想，他们只是嘲笑你的实力。",
    "今天的努力，是为了创造不一样的明天。",
    "站在高考的跑道上，胜利就是勇敢者的奖杯。",
    "不惧困难，迎难而上，你就是奇迹的创造者。",
    "高考是一场没有硝烟的战争，唯有勇士才能凯旋。",
    "人生之路，从高考开始起步。",
    "每一个坚持下来的日夜，都会变成未来闪闪发光的日子。",
    "每一次放弃，都是和成功擦肩而过；每一次坚持，都是离梦想更进一步。",
    "在高考的战场上，努力就是你唯一的武器。",
    "知识改变命运，奋斗成就未来。",
    "相信自己，你就是高考战场上的英雄。",
    "天道酬勤，愿你不负青春的汗水。",
    "高考的路，虽难万险，但你终会抵达梦想的彼岸。",
    "追梦的路上，脚踏实地，一步一个脚印。",
    "越努力，越幸运，高考必胜！",
    "在挑战中成长，在奋斗中闪耀。",
    "高考，只是你人生的第一步，你会更优秀。",
    "相信自己，咬牙坚持，每一天都离成功更近。",
    "人生如棋，高考是关键的一步；步步为营，终将胜利。",
    "挥洒汗水，不负韶华。",
    "所有的努力都将化为未来的骄傲。",
    "梦想是灯塔，指引你前进的方向。",
    "咬紧牙关，再坚持一会儿，胜利就在前方！",
    "高考是人生的一场修行，坚持就是胜利。",
    "每一天都是新的开始，每一步都靠近梦想。",
    "别让懒惰成为失败的借口。",
    "困难面前，再多迈出一步，就是成功的关键。",
    "信心和毅力是成功的基石。",
    "无论结果如何，你都已经是最棒的！",
    "拼搏的日子是青春最亮丽的颜色。",
    "你正在创造属于自己的奇迹。",
    "用今天的努力成就明天的辉煌。",
    "汗水不会骗人，它见证了你的每一分付出。",
    "坚持到最后一秒，才知道自己有多优秀。",
    "相信自己，一切皆有可能。",
    "高考只是人生中的一站，未来无限光明。",
    "用努力书写青春，用拼搏定义未来。",
    "每一次小小的坚持，都会成为未来的大成功。",
    "不怕慢，只怕站。勇往直前，必有所获。",
    "你的潜力，比你想象的更大。",
    "失败不可怕，放弃才是最大的敌人。",
    "拼搏的汗水是成功的起点。",
    "相信过程，结果自然会让你满意。",
    "不经历风雨，怎能见彩虹？",
    "高考只是开始，未来更值得期待。",
    "你不是一个人在战斗，身后有千万人为你加油。",
    "人生没有白费的努力，每一步都算数。",
    "今天流的汗，是未来的勋章。",
    "愿你所有的付出，终将不负所望。",
    "青春无悔，高考加油！",
    "人生没有重来的机会，但未来可以由你掌控。",
    "相信努力的意义，它会带给你无限可能。",
    "心中有目标，脚下有力量。",
    "每一滴汗水，都是成功的阶梯。",
    "没有白费的努力，只有更接近梦想的脚步。",
    "高考是起点，不是终点，未来等你书写。",
    "成功的秘诀在于始终相信自己。",
    "只要路是对的，就不怕路远。",
    "耐心和坚持，是你最强大的武器。",
    "越努力越幸运，越奋斗越精彩。",
    "高考不是终点，而是新的起点。",
    "青春只有一次，高考奋力一搏！",
    "放下包袱，全力以赴，你一定行！",
    "勇敢面对挑战，迎接属于你的高光时刻。"
    ]
    const randomQuote = quotes[Math.floor(Math.random() * quotes.length)]
    
    const msg = `高考还剩：${days}天${hours}小时${minutes}分钟${seconds}秒\n高考时间：${examDate.getFullYear()}年06月07日 09:00:00\n高考一言：${randomQuote}`
    
    await e.reply(msg)
  }
}
